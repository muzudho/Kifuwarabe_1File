import cshogi
# import numpy as np
import random

# ğŸ“– [_cshogi.pyx](https://github.com/TadaoYamaoka/cshogi/blob/master/cshogi/_cshogi.pyx)

"""
ã‚¿ãƒ¼ãƒ³

æ•´æ•°ã€€ã€€æ„å‘³ã€€ã€€ã€€è¡¨è¨˜
ãƒ¼ãƒ¼ã€€ã€€ãƒ¼ãƒ¼ãƒ¼ã€€ã€€ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
ã€€ï¼ã€€ã€€å…ˆæ‰‹ã€€ã€€ã€€cshogi.BLACK
ã€€ï¼‘ã€€ã€€å¾Œæ‰‹ã€€ã€€ã€€cshogi.WHITE

ãƒ”ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ—ï¼ˆPieceType, ptï¼›é§’ç¨®é¡ï¼‰

æ•´æ•°ã€€ã€€æ„å‘³ã€€ã€€ã€€è¡¨è¨˜
ãƒ¼ãƒ¼ã€€ã€€ãƒ¼ãƒ¼ãƒ¼ã€€ã€€ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
ã€€ï¼ã€€ã€€æœªä½¿ç”¨
ã€€ï¼‘ã€€ã€€æ­©ã€€ã€€ã€€ã€€cshogi.PAWN
ã€€ï¼’ã€€ã€€é¦™ã€€ã€€ã€€ã€€cshogi.LANCE
ã€€ï¼“ã€€ã€€æ¡‚ã€€ã€€ã€€ã€€cshogi.KNIGHT
ã€€ï¼”ã€€ã€€éŠ€ã€€ã€€ã€€ã€€cshogi.SILVER
ã€€ï¼•ã€€ã€€è§’ã€€ã€€ã€€ã€€cshogi.BISHOP
ã€€ï¼–ã€€ã€€é£›ã€€ã€€ã€€ã€€cshogi.ROOK
ã€€ï¼—ã€€ã€€é‡‘ã€€ã€€ã€€ã€€cshogi.GOLD
ã€€ï¼˜ã€€ã€€ç‰ã€€ã€€ã€€ã€€cshogi.KING
ã€€ï¼™ã€€ã€€ã¨ã€€ã€€ã€€ã€€cshogi.PROM_PAWN
ï¼‘ï¼ã€€ã€€æã€€ã€€ã€€ã€€cshogi.PROM_LANCE
ï¼‘ï¼‘ã€€ã€€åœ­ã€€ã€€ã€€ã€€cshogi.PROM_KNIGHT
ï¼‘ï¼’ã€€ã€€å…¨ã€€ã€€ã€€ã€€cshogi.PROM_SILVER
ï¼‘ï¼“ã€€ã€€é¦¬ã€€ã€€ã€€ã€€cshogi.PROM_BISHOP
ï¼‘ï¼”ã€€ã€€ç«œã€€ã€€ã€€ã€€cshogi.PROM_ROOK
"""

_piece_to_string_array = [
    "ã€€ã€€", # ï¼ï¼ã€€ç©ºå‡
    "ï¼¿æ­©", # 1
    "ï¼¿é¦™", # 2
    "ï¼¿æ¡‚", # 3
    "ï¼¿éŠ€", # 4
    "ï¼¿è§’", # 5
    "ï¼¿é£›", # 6
    "ï¼¿é‡‘", # 7
    "ï¼¿ç‰", # 8
    "ï¼¿ã¨", # 9
    "ï¼¿æ", # 10
    "ï¼¿åœ­", # 11
    "ï¼¿å…¨", # 12
    "ï¼¿é¦¬", # 13
    "ï¼¿ç«œ", # 14
    "ï¼‘ï¼•", # 15. æœªä½¿ç”¨
    "ï¼‘ï¼–", # 16. æœªä½¿ç”¨
    "ï½–æ­©", # 17
    "ï½–é¦™", # 18
    "ï½–æ¡‚", # 19
    "ï½–éŠ€", # 20
    "ï½–è§’", # 21
    "ï½–é£›", # 22
    "ï½–é‡‘", # 23
    "ï½–ç‰", # 24
    "ï½–ã¨", # 25
    "ï½–æ", # 26
    "ï½–åœ­", # 27
    "ï½–å…¨", # 28
    "ï½–é¦¬", # 29
    "ï½–ç«œ", # 30
    "ï¼“ï¼‘", # 31. æœªä½¿ç”¨
    ]

def piece_to_string(pc):
    """
    ãƒ”ãƒ¼ã‚¹ï¼ˆPiece, pcï¼›é§’ç•ªå·ï¼‰

    ã€€ï¼ã€€ç©ºå‡
    ï¼‘ï¼–ã€€æœªä½¿ç”¨

    ã€€ã€€ã€€ã€€ã€€å…ˆæ‰‹ã€€ã€€ã€€å¾Œæ‰‹
    ã€€ã€€ã€€ã€€ãƒ¼ãƒ¼ãƒ¼ã€€ã€€ãƒ¼ãƒ¼ãƒ¼
    ã€€ã€€æ­©ã€€ã€€ã€€ï¼‘ã€€ã€€ã€€ï¼‘ï¼—
    ã€€ã€€é¦™ã€€ã€€ã€€ï¼’ã€€ã€€ã€€ï¼‘ï¼˜
    ã€€ã€€æ¡‚ã€€ã€€ã€€ï¼“ã€€ã€€ã€€ï¼‘ï¼™
    ã€€ã€€éŠ€ã€€ã€€ã€€ï¼”ã€€ã€€ã€€ï¼’ï¼
    ã€€ã€€è§’ã€€ã€€ã€€ï¼•ã€€ã€€ã€€ï¼’ï¼‘
    ã€€ã€€é£›ã€€ã€€ã€€ï¼–ã€€ã€€ã€€ï¼’ï¼’
    ã€€ã€€é‡‘ã€€ã€€ã€€ï¼—ã€€ã€€ã€€ï¼’ï¼“
    ã€€ã€€ç‰ã€€ã€€ã€€ï¼˜ã€€ã€€ã€€ï¼’ï¼”
    ã€€ã€€ã¨ã€€ã€€ã€€ï¼™ã€€ã€€ã€€ï¼’ï¼•
    ã€€ã€€æã€€ã€€ï¼‘ï¼ã€€ã€€ã€€ï¼’ï¼–
    ã€€ã€€åœ­ã€€ã€€ï¼‘ï¼‘ã€€ã€€ã€€ï¼’ï¼—
    ã€€ã€€å…¨ã€€ã€€ï¼‘ï¼’ã€€ã€€ã€€ï¼’ï¼˜
    ã€€ã€€é¦¬ã€€ã€€ï¼‘ï¼“ã€€ã€€ã€€ï¼’ï¼™
    ã€€ã€€ç«œã€€ã€€ï¼‘ï¼”ã€€ã€€ã€€ï¼“ï¼
    æœªä½¿ç”¨ã€€ã€€ï¼‘ï¼•ã€€ã€€ã€€ï¼“ï¼‘
    """

    if 0 <= pc and pc < 32:
        return _piece_to_string_array[pc]
    else:
        return f'{pc}' # ã‚¨ãƒ©ãƒ¼

_number_of_hand_to_string_list = [
    "ã€€ã€€", #  0
    "ã€€ï¼‘", #  1
    "ã€€ï¼’", #  2
    "ã€€ï¼“", #  3
    "ã€€ï¼”", #  4
    "ã€€ï¼•", #  5
    "ã€€ï¼–", #  6
    "ã€€ï¼—", #  7
    "ã€€ï¼˜", #  8
    "ã€€ï¼™", #  9
    "ï¼‘ï¼", # 10
    "ï¼‘ï¼‘", # 11
    "ï¼‘ï¼’", # 12
    "ï¼‘ï¼“", # 13
    "ï¼‘ï¼”", # 14
    "ï¼‘ï¼•", # 15
    "ï¼‘ï¼–", # 16
    "ï¼‘ï¼—", # 17
    "ï¼‘ï¼˜", # 18
]

def number_of_hand_to_string(number):
    """æŒã¡é§’ã®æ•°ã®è¡¨ç¤ºæ–‡å­—åˆ—"""
    return _number_of_hand_to_string_list[number]

_string_to_piece_table = {
    "ã€€ã€€":0, # ç©ºå‡
    "ï¼¿æ­©":1,
    "ï¼¿é¦™":2,
    "ï¼¿æ¡‚":3,
    "ï¼¿éŠ€":4,
    "ï¼¿è§’":5,
    "ï¼¿é£›":6,
    "ï¼¿é‡‘":7,
    "ï¼¿ç‰":8,
    "ï¼¿ã¨":9,
    "ï¼¿æ":10,
    "ï¼¿åœ­":11,
    "ï¼¿å…¨":12,
    "ï¼¿é¦¬":13,
    "ï¼¿ç«œ":14,
    "ï¼‘ï¼•":15, # æœªä½¿ç”¨
    "ï¼‘ï¼–":16, # æœªä½¿ç”¨
    "ï½–æ­©":17,
    "ï½–é¦™":18,
    "ï½–æ¡‚":19,
    "ï½–éŠ€":20,
    "ï½–è§’":21,
    "ï½–é£›":22,
    "ï½–é‡‘":23,
    "ï½–ç‰":24,
    "ï½–ã¨":25,
    "ï½–æ":26,
    "ï½–åœ­":27,
    "ï½–å…¨":28,
    "ï½–é¦¬":29,
    "ï½–ç«œ":30,
    "ï¼“ï¼‘":31, # æœªä½¿ç”¨
}

def string_to_piece(s):
    """é€†é–¢æ•°"""
    if 0 <= s and s < 32:
        return _string_to_piece_table[s]
    else:
        return f'{s}' # ã‚¨ãƒ©ãƒ¼

"""
å®šæ•°ã€€ã€€è¡¨è¨˜ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€æ„å‘³
ãƒ¼ãƒ¼ã€€ã€€ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ã€€ã€€ã€€ã€€ã€€ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
ã€€ 0ã€€ã€€cshogi.NONE ã€€ã€€ã€€ã€€ã€€ä¾‹ãˆã°ç©ºå‡
ã€€ 1ã€€ã€€cshogi.BPAWNã€€ã€€ã€€ã€€ã€€â–²æ­©
ã€€ 2ã€€ã€€cshogi.BLANCE ã€€ã€€ã€€ã€€â–²é¦™
ã€€ 3ã€€ã€€cshogi.BKNIGHTã€€ã€€ã€€ã€€â–²æ¡‚
ã€€ 4ã€€ã€€cshogi.BSILVERã€€ã€€ã€€ã€€â–²éŠ€
ã€€ 5ã€€ã€€cshogi.BBISHOPã€€ã€€ã€€ã€€â–²è§’
ã€€ 6ã€€ã€€cshogi.BROOKã€€ã€€ã€€ã€€ã€€â–²é£›
ã€€ 7ã€€ã€€cshogi.BGOLDã€€ã€€ã€€ã€€ã€€â–²é‡‘
ã€€ 8ã€€ã€€cshogi.BKINGã€€ã€€ã€€ã€€ã€€â–²ç‰
ã€€ 9ã€€ã€€cshogi.BPROM_PAWNã€€ã€€â–²ã¨
ã€€10ã€€ã€€cshogi.BPROM_LANCE ã€€â–²æ
ã€€11ã€€ã€€cshogi.BPROM_KNIGHTã€€â–²åœ­
ã€€12ã€€ã€€cshogi.BPROM_SILVERã€€â–²å…¨
ã€€13ã€€ã€€cshogi.BPROM_BISHOPã€€â–²é¦¬
ã€€14ã€€ã€€cshogi.BPROM_ROOKã€€ã€€â–²ç«œ
ã€€15ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€æœªä½¿ç”¨
ã€€16ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€æœªä½¿ç”¨
ã€€17ã€€ã€€cshogi.PPAWNã€€ã€€ã€€ã€€ã€€â–½æ­©
ã€€18ã€€ã€€cshogi.PLANCE ã€€ã€€ã€€ã€€â–½é¦™
ã€€19ã€€ã€€cshogi.PKNIGHTã€€ã€€ã€€ã€€â–½æ¡‚
ã€€20ã€€ã€€cshogi.PSILVERã€€ã€€ã€€ã€€â–½éŠ€
ã€€21ã€€ã€€cshogi.PBISHOPã€€ã€€ã€€ã€€â–½è§’
ã€€22ã€€ã€€cshogi.PROOKã€€ã€€ã€€ã€€ã€€â–½é£›
ã€€23ã€€ã€€cshogi.PGOLDã€€ã€€ã€€ã€€ã€€â–½é‡‘
ã€€24ã€€ã€€cshogi.PKINGã€€ã€€ã€€ã€€ã€€â–½ç‰
ã€€25ã€€ã€€cshogi.PPROM_PAWNã€€ã€€â–½ã¨
ã€€26ã€€ã€€cshogi.PPROM_LANCE ã€€â–½æ
ã€€27ã€€ã€€cshogi.PPROM_KNIGHTã€€â–½åœ­
ã€€28ã€€ã€€cshogi.PPROM_SILVERã€€â–½å…¨
ã€€29ã€€ã€€cshogi.PPROM_BISHOPã€€â–½é¦¬
ã€€30ã€€ã€€cshogi.PPROM_ROOKã€€ã€€â–½ç«œ
ã€€31ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€æœªä½¿ç”¨
"""

_sq_to_jsa_table = [sq // 9 * 10 + 10 + sq % 9 + 1 for sq in range(81)]

def sq_to_jsa(sq):
    """
    cshogi è¨˜æ³•
    ã€€ã€€example: ï¼“å›› cshogi.D3ã€ãã®å€¤ã¯ 21 ï¼ˆsqï¼‰

    ã€€ã€€ï¼™ã€€ã€€ï¼˜ã€€ã€€ï¼—ã€€ã€€ï¼–ã€€ã€€ï¼•ã€€ã€€ï¼”ã€€ã€€ï¼“ã€€ã€€ï¼’ã€€ã€€ï¼‘
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼¡ï¼™ï½œï¼¡ï¼˜ï½œï¼¡ï¼—ï½œï¼¡ï¼–ï½œï¼¡ï¼•ï½œï¼¡ï¼”ï½œï¼¡ï¼“ï½œï¼¡ï¼’ï½œï¼¡ï¼‘ï½œã€€ä¸€
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼¢ï¼™ï½œï¼¢ï¼˜ï½œï¼¢ï¼—ï½œï¼¢ï¼–ï½œï¼¢ï¼•ï½œï¼¢ï¼”ï½œï¼¢ï¼“ï½œï¼¢ï¼’ï½œï¼¢ï¼‘ï½œã€€äºŒ
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼£ï¼™ï½œï¼£ï¼˜ï½œï¼£ï¼—ï½œï¼£ï¼–ï½œï¼£ï¼•ï½œï¼£ï¼”ï½œï¼£ï¼“ï½œï¼£ï¼’ï½œï¼£ï¼‘ï½œã€€ä¸‰
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼¤ï¼™ï½œï¼¤ï¼˜ï½œï¼¤ï¼—ï½œï¼¤ï¼–ï½œï¼¤ï¼•ï½œï¼¤ï¼”ï½œï¼¤ï¼“ï½œï¼¤ï¼’ï½œï¼¤ï¼‘ï½œã€€å››
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼¥ï¼™ï½œï¼¥ï¼˜ï½œï¼¥ï¼—ï½œï¼¥ï¼–ï½œï¼¥ï¼•ï½œï¼¥ï¼”ï½œï¼¥ï¼“ï½œï¼¥ï¼’ï½œï¼¥ï¼‘ï½œã€€äº”
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼¦ï¼™ï½œï¼¦ï¼˜ï½œï¼¦ï¼—ï½œï¼¦ï¼–ï½œï¼¦ï¼•ï½œï¼¦ï¼”ï½œï¼¦ï¼“ï½œï¼¦ï¼’ï½œï¼¦ï¼‘ï½œã€€å…­
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼§ï¼™ï½œï¼§ï¼˜ï½œï¼§ï¼—ï½œï¼§ï¼–ï½œï¼§ï¼•ï½œï¼§ï¼”ï½œï¼§ï¼“ï½œï¼§ï¼’ï½œï¼§ï¼‘ï½œã€€ä¸ƒ
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼¨ï¼™ï½œï¼¨ï¼˜ï½œï¼¨ï¼—ï½œï¼¨ï¼–ï½œï¼¨ï¼•ï½œï¼¨ï¼”ï½œï¼¨ï¼“ï½œï¼¨ï¼’ï½œï¼¨ï¼‘ï½œã€€å…«
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼©ï¼™ï½œï¼©ï¼˜ï½œï¼©ï¼—ï½œï¼©ï¼–ï½œï¼©ï¼•ï½œï¼©ï¼”ï½œï¼©ï¼“ï½œï¼©ï¼’ï½œï¼©ï¼‘ï½œã€€ä¹
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹

    ã‚¹ã‚¯ã‚¦ã‚§ã‚¢ï¼ˆSquare, sqï¼›å‡ç•ªå·ï¼‰

    ã€€ã€€ï¼™ã€€ã€€ï¼˜ã€€ã€€ï¼—ã€€ã€€ï¼–ã€€ã€€ï¼•ã€€ã€€ï¼”ã€€ã€€ï¼“ã€€ã€€ï¼’ã€€ã€€ï¼‘
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼—ï¼’ï½œï¼–ï¼“ï½œï¼•ï¼”ï½œï¼”ï¼•ï½œï¼“ï¼–ï½œï¼’ï¼—ï½œï¼‘ï¼˜ï½œã€€ï¼™ï½œã€€ï¼ï½œã€€ä¸€
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼—ï¼“ï½œï¼–ï¼”ï½œï¼•ï¼•ï½œï¼”ï¼–ï½œï¼“ï¼—ï½œï¼’ï¼˜ï½œï¼‘ï¼™ï½œï¼‘ï¼ï½œã€€ï¼‘ï½œã€€äºŒ
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼—ï¼”ï½œï¼–ï¼•ï½œï¼•ï¼–ï½œï¼”ï¼—ï½œï¼“ï¼˜ï½œï¼’ï¼™ï½œï¼’ï¼ï½œï¼‘ï¼‘ï½œã€€ï¼’ï½œã€€ä¸‰
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼—ï¼•ï½œï¼–ï¼–ï½œï¼•ï¼—ï½œï¼”ï¼˜ï½œï¼“ï¼™ï½œï¼“ï¼ï½œï¼’ï¼‘ï½œï¼‘ï¼’ï½œã€€ï¼“ï½œã€€å››
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼—ï¼–ï½œï¼–ï¼—ï½œï¼•ï¼˜ï½œï¼”ï¼™ï½œï¼”ï¼ï½œï¼“ï¼‘ï½œï¼’ï¼’ï½œï¼‘ï¼“ï½œã€€ï¼”ï½œã€€äº”
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼—ï¼—ï½œï¼–ï¼˜ï½œï¼•ï¼™ï½œï¼•ï¼ï½œï¼”ï¼‘ï½œï¼“ï¼’ï½œï¼’ï¼“ï½œï¼‘ï¼”ï½œã€€ï¼•ï½œã€€å…­
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼—ï¼˜ï½œï¼–ï¼™ï½œï¼–ï¼ï½œï¼•ï¼‘ï½œï¼”ï¼’ï½œï¼“ï¼“ï½œï¼’ï¼”ï½œï¼‘ï¼•ï½œã€€ï¼–ï½œã€€ä¸ƒ
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼—ï¼™ï½œï¼—ï¼ï½œï¼–ï¼‘ï½œï¼•ï¼’ï½œï¼”ï¼“ï½œï¼“ï¼”ï½œï¼’ï¼•ï½œï¼‘ï¼–ï½œã€€ï¼—ï½œã€€å…«
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼˜ï¼ï½œï¼—ï¼‘ï½œï¼–ï¼’ï½œï¼•ï¼“ï½œï¼”ï¼”ï½œï¼“ï¼•ï½œï¼’ï¼–ï½œï¼‘ï¼—ï½œã€€ï¼˜ï½œã€€ä¹
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹

    ã‚¸ã‚§ã‚¤ãƒ»ã‚¨ã‚¹ãƒ»ã‚¨ãƒ¼ï¼ˆï¼ªï¼³ï¼¡ï¼›æ—¥æœ¬å°†æ£‹é€£ç›Ÿï¼‰æ–¹å¼
    ã€€ã€€ï½†ï½Œï½ï½ï½’ï¼ˆï½“ï½‘ï¼ï¼™ï¼‰ï¼Šï¼‘ï¼ï¼‹ï¼‘ï¼ï¼‹ï¼ˆï½“ï½‘ï¼…ï¼™ï¼‰ï¼‹ï¼‘

    ã€€ã€€ï¼™ã€€ã€€ï¼˜ã€€ã€€ï¼—ã€€ã€€ï¼–ã€€ã€€ï¼•ã€€ã€€ï¼”ã€€ã€€ï¼“ã€€ã€€ï¼’ã€€ã€€ï¼‘
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼™ï¼‘ï½œï¼˜ï¼‘ï½œï¼—ï¼‘ï½œï¼–ï¼‘ï½œï¼•ï¼‘ï½œï¼”ï¼‘ï½œï¼“ï¼‘ï½œï¼’ï¼‘ï½œï¼‘ï¼‘ï½œã€€ä¸€
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼™ï¼’ï½œï¼˜ï¼’ï½œï¼—ï¼’ï½œï¼–ï¼’ï½œï¼•ï¼’ï½œï¼”ï¼’ï½œï¼“ï¼’ï½œï¼’ï¼’ï½œï¼‘ï¼’ï½œã€€äºŒ
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼™ï¼“ï½œï¼˜ï¼“ï½œï¼—ï¼“ï½œï¼–ï¼“ï½œï¼•ï¼“ï½œï¼”ï¼“ï½œï¼“ï¼“ï½œï¼’ï¼“ï½œï¼‘ï¼“ï½œã€€ä¸‰
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼™ï¼”ï½œï¼˜ï¼”ï½œï¼—ï¼”ï½œï¼–ï¼”ï½œï¼•ï¼”ï½œï¼”ï¼”ï½œï¼“ï¼”ï½œï¼’ï¼”ï½œï¼‘ï¼”ï½œã€€å››
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼™ï¼•ï½œï¼˜ï¼•ï½œï¼—ï¼•ï½œï¼–ï¼•ï½œï¼•ï¼•ï½œï¼”ï¼•ï½œï¼“ï¼•ï½œï¼’ï¼•ï½œï¼‘ï¼•ï½œã€€äº”
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼™ï¼–ï½œï¼˜ï¼–ï½œï¼—ï¼–ï½œï¼–ï¼–ï½œï¼•ï¼–ï½œï¼”ï¼–ï½œï¼“ï¼–ï½œï¼’ï¼–ï½œï¼‘ï¼–ï½œã€€å…­
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼™ï¼—ï½œï¼˜ï¼—ï½œï¼—ï¼—ï½œï¼–ï¼—ï½œï¼•ï¼—ï½œï¼”ï¼—ï½œï¼“ï¼—ï½œï¼’ï¼—ï½œï¼‘ï¼—ï½œã€€ä¸ƒ
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼™ï¼˜ï½œï¼˜ï¼˜ï½œï¼—ï¼˜ï½œï¼–ï¼˜ï½œï¼•ï¼˜ï½œï¼”ï¼˜ï½œï¼“ï¼˜ï½œï¼’ï¼˜ï½œï¼‘ï¼˜ï½œã€€å…«
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    ï½œï¼™ï¼™ï½œï¼˜ï¼™ï½œï¼—ï¼™ï½œï¼–ï¼™ï½œï¼•ï¼™ï½œï¼”ï¼™ï½œï¼“ï¼™ï½œï¼’ï¼™ï½œï¼‘ï¼™ï½œã€€ä¹
    ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
    """

    return _sq_to_jsa_table[sq]

_jsa_to_sq_table = [(jsa//10-1) * 9 + jsa % 10 - 1 for jsa in range(100)]

def jsa_to_sq(jsa):
    """é€†é–¢æ•°
    ï¼ˆï½†ï½Œï½ï½ï½’ï¼ˆï½Šï½“ï½ï¼ï¼‘ï¼ï¼‰ãƒ¼ï¼‘ï¼‰ï¼Šï¼™ï¼‹ï¼ˆï½Šï½“ï½ï¼…ï¼‘ï¼ï¼‰ãƒ¼ï¼‘"""
    return _jsa_to_sq_table[jsa]

"""
ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ»ã‚¹ã‚¯ã‚¦ã‚§ã‚¢ï¼ˆRelational Squareï¼›ç›¸å¯¾å‡ä½ç½®ï¼‰

ã€€ã€€ï¼™ã€€ã€€ï¼˜ã€€ã€€ï¼—ã€€ã€€ï¼–ã€€ã€€ï¼•ã€€ã€€ï¼”ã€€ã€€ï¼“ã€€ã€€ï¼’ã€€ã€€ï¼‘
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œï¼–ï¼”ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œãƒ¼ï¼˜ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œãƒ¼ï¼˜ï¼ï½œ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œï¼•ï¼–ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œãƒ¼ï¼—ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œãƒ¼ï¼—ï¼ï½œã€€ã€€ã€€ï½œ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œã€€ã€€ï½œï¼”ï¼˜ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œãƒ¼ï¼–ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œãƒ¼ï¼–ï¼ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œï¼”ï¼ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œãƒ¼ï¼•ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œãƒ¼ï¼•ï¼ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œï¼“ï¼’ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œãƒ¼ï¼”ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œãƒ¼ï¼”ï¼ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œï¼’ï¼”ï½œã€€ã€€ï½œã€€ã€€ï½œãƒ¼ï¼“ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œãƒ¼ï¼“ï¼ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œï¼‘ï¼–ï½œã€€ï¼—ï½œãƒ¼ï¼’ï½œãƒ¼ï¼‘ï¼‘ï½œãƒ¼ï¼’ï¼ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ï¼˜ï½œãƒ¼ï¼‘ï½œãƒ¼ï¼‘ï¼ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œï¼—ï¼’ï½œï¼–ï¼“ï½œï¼•ï¼”ï½œï¼”ï¼•ï½œï¼“ï¼–ï½œï¼’ï¼—ï½œï¼‘ï¼˜ï½œã€€ï¼™ï½œã€€â˜…ï½œã€€ãƒ¼ï¼™ï½œãƒ¼ï¼‘ï¼˜ï½œãƒ¼ï¼’ï¼—ï½œãƒ¼ï¼“ï¼–ï½œãƒ¼ï¼”ï¼•ï½œãƒ¼ï¼•ï¼”ï½œãƒ¼ï¼–ï¼“ï½œãƒ¼ï¼—ï¼’ï½œã€€ä¸€
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œï¼‘ï¼ï½œã€€ï¼‘ï½œã€€ãƒ¼ï¼˜ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€äºŒ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œï¼’ï¼ï½œï¼‘ï¼‘ï½œã€€ï¼’ï½œã€€ãƒ¼ï¼—ï½œãƒ¼ï¼‘ï¼–ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ä¸‰
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œï¼“ï¼ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ï¼“ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œãƒ¼ï¼’ï¼”ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€å››
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œï¼”ï¼ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ï¼”ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œãƒ¼ï¼“ï¼’ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€äº”
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œï¼•ï¼ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ï¼•ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œãƒ¼ï¼”ï¼ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€å…­
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œã€€ã€€ï½œï¼–ï¼ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ï¼–ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œãƒ¼ï¼”ï¼˜ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ä¸ƒ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œã€€ã€€ï½œï¼—ï¼ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ï¼—ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œãƒ¼ï¼•ï¼–ï½œã€€ã€€ã€€ï½œã€€å…«
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œï¼˜ï¼ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ã€€ï½œã€€ï¼˜ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œã€€ã€€ã€€ï½œãƒ¼ï¼–ï¼”ï½œã€€ä¹
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ï¼‹

åå‰ã¨å€¤
ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œï¼®ï½ï½’ï½”ï½ˆï¼®ï½ï½’ï½”ï½ˆï¼·ï½…ï½“ï½”ã€€ã€€ï¼—ï½œã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï½œï¼®ï½ï½’ï½”ï½ˆï¼®ï½ï½’ï½”ï½ˆï¼¥ï½ï½“ï½”ã€€ãƒ¼ï¼‘ï¼‘ï½œ
ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œï¼®ï½ï½’ï½”ï½ˆï¼·ï½…ï½“ï½”ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼˜ï½œï¼®ï½ï½’ï½”ï½ˆã€€ãƒ¼ï¼‘ï½œï¼®ï½ï½’ï½”ï½ˆï¼¥ï½ï½“ï½”ã€€ã€€ã€€ã€€ã€€ã€€ãƒ¼ï¼‘ï¼ï½œ
ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œï¼·ï½…ï½“ï½”ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼™ï½œâ˜…ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï½œï¼¥ï½ï½“ï½”ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ãƒ¼ï¼™ï½œ
ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œï¼³ï½ï½•ï½”ï½ˆï¼·ï½…ï½“ï½”ã€€ã€€ã€€ã€€ã€€ã€€ï¼‘ï¼ï½œï¼³ï½ï½•ï½”ï½ˆã€€ã€€ï¼‘ï½œï¼³ï½ï½•ï½”ï½ˆï¼¥ï½ï½“ï½”ã€€ã€€ã€€ã€€ã€€ã€€ã€€ãƒ¼ï¼˜ï½œ
ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹
ï½œï¼³ï½ï½•ï½”ï½ˆï¼³ï½ï½•ï½”ï½ˆï¼·ï½…ï½“ï½”ã€€ï¼‘ï¼‘ï½œã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï½œï¼³ï½ï½•ï½”ï½ˆï¼³ï½ï½•ï½”ï½ˆï¼¥ï½ï½“ï½”ã€€ã€€ãƒ¼ï¼—ï½œ
ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼‹
"""
north_north_east = -11
north_east = -10
east = -9
south_east = -8
south_south_east = -7
north = -1
south = 1
north_north_west = 7
north_west = 8
west = 9
south_west = 10
south_south_west = 11

def non_zero_to_cross(number):
    """éã‚¼ãƒ­ãªã‚‰ã€€ï¼¸ã€€ã‚’è¡¨ç¤º"""
    if number == 0:
        return "ã€€ã€€"
    else:
        return "ã€€ï¼¸"

class Kifuwarabe():
    """ããµã‚ã‚‰ã¹"""

    def __init__(self):
        """åˆæœŸåŒ–"""

        self._subordinate = KifuwarabesSubordinate()
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""

        self._colleague = KifuwarabesColleague(
            kifuwarabes_subordinate=self.subordinate)
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""

    @property
    def subordinate(self):
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""
        return self._subordinate

    @property
    def colleague(self):
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""
        return self._colleague

    def usi_loop(self):
        """USIãƒ«ãƒ¼ãƒ—"""

        while True:

            cmd = input().split(' ', 1)
            """å…¥åŠ›"""

            if cmd[0] == 'usi':
                """USIã‚¨ãƒ³ã‚¸ãƒ³æ¡æ‰‹"""
                print('id name Kifuwarabe1File')
                print('usiok', flush=True)

            elif cmd[0] == 'isready':
                """å¯¾å±€æº–å‚™"""
                print('readyok', flush=True)

            elif cmd[0] == 'position':
                """å±€é¢ãƒ‡ãƒ¼ã‚¿è§£æ"""
                pos = cmd[1].split('moves')
                self.position(pos[0].strip(), pos[1].split() if len(pos) > 1 else [])

            elif cmd[0] == 'go':
                """æ€è€ƒé–‹å§‹ï½æœ€å–„æ‰‹è¿”å´"""
                (bestmove, beta) = self.colleague.thought.do_it()
                alpha = -beta
                print(f'info depth 1 seldepth 1 time 1 nodes 1 score cp {alpha} string x')
                print(f'bestmove {bestmove}', flush=True)

            elif cmd[0] == 'stop':
                """ä¸­æ–­"""
                print('bestmove resign' , flush=True)

            elif cmd[0] == 'quit':
                """çµ‚äº†"""
                break

            elif cmd[0] == 'debug':
                """ç‹¬è‡ªæ‹¡å¼µã€‚ãƒ‡ãƒãƒƒã‚°"""
                for sq, piece in enumerate(self.subordinate.board.pieces):
                    jsa = sq_to_jsa(sq)
                    print(f'å‡ï¼š{jsa}ã€€é§’ï¼š{piece_to_string(piece)}ã€€sqï¼š{jsa_to_sq(jsa)}')

                # TODO é©å½“ãªãƒã‚¹ç•ªå·ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—
                origin_sq = random.choice(range(81))
                # TODO ç›¤ä¸Šã®é©å½“ãªå‡ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—
                piece = self.subordinate.board.pieces[origin_sq]
                print(f'[DEBUG] origin_sq:{origin_sq} piece:{piece}')

                if piece == cshogi.NONE:
                    print(f'[DEBUG] miss')
                else:
                    # TODO ãã®é§’ã®åˆ©ãã‚’å–å¾—
                    lst = self.colleague.control.list_by(origin_sq, piece)

                    # TODO ãã®åˆ©ãã‚’è¡¨ç¤º
                    print(f'[DEBUG] lst:{lst}')
                    self.colleague.check_board_print.do_it()

            elif cmd[0] == 'beauty':
                """ç‹¬è‡ªæ‹¡å¼µã€‚ç¾æ„è­˜ã‚’è¿”ã™"""

                print(f'ã‚¿ãƒ¼ãƒ³ï¼š{self.subordinate.board.turn}')

                ranging_rook = self.colleague.sense_of_beauty.check_ranging_rook()
                if ranging_rook == 0:
                    print(f'beauty ä½•ã§ã‚‚ãªã„')
                elif ranging_rook == 1:
                    print(f'beauty ç›¸å±…é£›è»Š')
                elif ranging_rook == 2:
                    print(f'beauty å…ˆæ‰‹æŒ¯ã‚Šé£›è»Š')
                elif ranging_rook == 3:
                    print(f'beauty å¾Œæ‰‹æŒ¯ã‚Šé£›è»Š')
                elif ranging_rook == 4:
                    print(f'beauty ç›¸æŒ¯ã‚Šé£›è»Š')

                piece_at28 = self.subordinate.board.pieces[cshogi.H2]
                print(f'ï¼’å…«ã®é§’ï¼š{piece_to_string(piece_at28)}')

                piece_at82 = self.subordinate.board.pieces[cshogi.B8]
                print(f'ï¼˜äºŒã®é§’ï¼š{piece_to_string(piece_at82)}')

            elif cmd[0] == 'pos':
                """ç‹¬è‡ªæ‹¡å¼µã€‚å±€é¢è¡¨ç¤º"""
                self.colleague.position_print.do_it()


    def position(self, sfen, usi_moves):
        """å±€é¢ãƒ‡ãƒ¼ã‚¿è§£æ"""

        if sfen == 'startpos':
            """å¹³æ‰‹åˆæœŸå±€é¢ã«å¤‰æ›´"""
            self.subordinate.board.reset()

        elif sfen[:5] == 'sfen ':
            """æŒ‡å®šå±€é¢ã«å¤‰æ›´"""
            self.subordinate.board.set_sfen(sfen[5:])

        for usi_move in usi_moves:
            """æ£‹è­œå†ç”Ÿ"""
            self.subordinate.board.push_usi(usi_move)

class KifuwarabesSubordinate():
    """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""

    def __init__(self):
        """åˆæœŸåŒ–"""

        self._board = cshogi.Board()
        """ç›¤"""

        self._materials_value = MaterialsValue()
        """é§’ã®ä¾¡å€¤"""

    @property
    def board(self):
        """ç›¤"""
        return self._board

    @property
    def materials_value(self):
        """é§’ã®ä¾¡å€¤"""
        return self._materials_value

class KifuwarabesColleague():
    """ããµã‚ã‚‰ã¹ã®åŒåƒš"""

    def __init__(self, kifuwarabes_subordinate):
        """åˆæœŸåŒ–

        Parameters
        ----------
        kifuwarabes_subordinate
            ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹
        """

        self._kifuwarabes_subordinate = kifuwarabes_subordinate
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""

        self._position_print = PositionPrint(
            kifuwarabes_subordinate=kifuwarabes_subordinate,
            kifuwarabes_colleague=self
        )
        """å±€é¢è¡¨ç¤º"""

        self._check_board_print = CheckBoardPrint(
            kifuwarabes_subordinate=kifuwarabes_subordinate,
            kifuwarabes_colleague=self
        )
        """ãƒã‚§ãƒƒã‚¯ãƒœãƒ¼ãƒ‰è¡¨ç¤º"""

        self._board_value = BoardValue(
            kifuwarabes_subordinate=kifuwarabes_subordinate,
            kifuwarabes_colleague=self
        )
        """ç›¤ã®æ±ºã¾ã‚Šãã£ãŸä¾¡å€¤"""

        self._control = Control(
            kifuwarabes_subordinate=kifuwarabes_subordinate,
            kifuwarabes_colleague=self
        )
        """åˆ©ã"""

        self._sense_of_beauty = SenseOfBeauty(
            kifuwarabes_subordinate=kifuwarabes_subordinate,
            kifuwarabes_colleague=self
        )
        """ç¾æ„è­˜"""

        self._thought = Thought(
            kifuwarabes_subordinate=kifuwarabes_subordinate,
            kifuwarabes_colleague=self
        )
        """æ€è€ƒ"""

        self._alpha_beta_pruning = AlphaBetaPruning(
            kifuwarabes_subordinate=kifuwarabes_subordinate,
            kifuwarabes_colleague=self,
            on_eval_on_leaf=self.on_eval_on_leaf
        )
        """æ¢ç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€€ã‚¢ãƒ«ãƒ•ã‚¡ãƒ¼ãƒ™ãƒ¼ã‚¿ãƒ¼åˆˆã‚Š"""

    @property
    def kifuwarabes_subordinate(self):
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""
        return self._kifuwarabes_subordinate

    @property
    def check_board_print(self):
        """ãƒã‚§ãƒƒã‚¯ãƒœãƒ¼ãƒ‰è¡¨ç¤º"""
        return self._check_board_print

    @property
    def position_print(self):
        """å±€é¢è¡¨ç¤º"""
        return self._position_print

    @property
    def board_value(self):
        """ç›¤ã®æ±ºã¾ã‚Šãã£ãŸä¾¡å€¤"""
        return self._board_value

    @property
    def control(self):
        """åˆ©ã"""
        return self._control

    @property
    def sense_of_beauty(self):
        """ç¾æ„è­˜"""
        return self._sense_of_beauty

    @property
    def thought(self):
        """æ€è€ƒ"""
        return self._thought

    @property
    def alpha_beta_pruning(self):
        """æ¢ç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€€ã‚¢ãƒ«ãƒ•ã‚¡ãƒ¼ãƒ™ãƒ¼ã‚¿ãƒ¼åˆˆã‚Š"""
        return self._alpha_beta_pruning

    def get_static_exchange_evaluation(self, move):
        """é™çš„é§’äº¤æ›å€¤"""

        # æœ€å¾Œã«å·®ã—ãŸé§’ã®ç§»å‹•å…ˆå‡ç•ªå·ã€‚ã“ã®å‡ã‚’ dst_sqã€ãã®é§’ã®ç¨®é¡ã‚’ dst_pt ã¨ã§ã‚‚è¡¨è¨˜ã™ã‚‹ã¨ã™ã‚‹
        dst_sq = MoveHelper.destination(move)
        dst_pt = MoveHelper.piece_type(move)

        # dst_sq ã«åˆ°é”ã§ãã‚‹å…¨ã¦ã®ç›¤ä¸Šã®é§’ã€‚ã“ã‚Œã‚’ attacker_list ã¨ã§ã‚‚å‘¼ã¶ã¨ã™ã‚‹
        attacker_list = []
        for piece in self.kifuwarabes_subordinate.board.pieces:

            # ãã®é§’ã«ã¤ã„ã¦ã€åˆ©ã„ã¦ã„ã‚‹å‡ç•ªå·ã®ãƒªã‚¹ãƒˆ
            control_list = self.control.list_by(
                origin_sq = dst_sq,
                piece = piece)

            if dst_sq in control_list:
                attacker_list.append(piece)

        # æ‰‹ç•ªï¼ˆå‘³æ–¹ï¼‰ã®é§’ã‚’å…¥ã‚Œã‚‹ friend_queueã€ ç›¸æ‰‹ç•ªã®é§’ã‚’å…¥ã‚Œã‚‹ opponent_queue ã‚’ä½œæˆ
        friend_queue = []
        opponent_queue = []

        # dst_pt ã‚’ opponent_queue ã¸å…¥ã‚Œã‚‹
        opponent_queue.append(dst_pt)

        for piece in attacker_list:
            if self.kifuwarabes_subordinate.board.turn == cshogi.Black:
                if piece < 16:
                    # attacker_list ã®ä¸­ã®å‘³æ–¹ã®é§’ã‚’ã€ä¾¡å€¤ã®å®‰ã„é †ã« friend_queue ã¸å…¥ã‚Œã‚‹
                    friend_queue.append(PieceTypeHelper.without_turn(piece))
                else:
                    # attacker_list ã®ä¸­ã®ç›¸æ‰‹ã®é§’ã‚’ã€ä¾¡å€¤ã®å®‰ã„é †ã« opponent_queue ã¸å…¥ã‚Œã‚‹
                    opponent_queue.append(PieceTypeHelper.without_turn(piece))
            else:
                if 16 <= piece:
                    friend_queue.append(PieceTypeHelper.without_turn(piece))
                else:
                    opponent_queue.append(PieceTypeHelper.without_turn(piece))

        value = 0

        # opponent_queueã€ã¾ãŸã¯ friend_queue ã®ã©ã¡ã‚‰ã‹ã®ã‚­ãƒ¥ãƒ¼ãŒç©ºã«ãªã‚‹ã¾ã§ã€ä»¥ä¸‹ã‚’ç¹°ã‚Šè¿”ã™
        while 0<len(opponent_queue) and 0<len(friend_queue):
            # ç›¤é¢ã¯æ‰‹ç•ªå´ãªã®ã§ã€ opponent_queue ã®å…ˆé ­ã®é§’ã‚’ãƒãƒƒãƒ—ã—ã€ãã®é§’ã®ä¾¡å€¤ã‚’ã€€è©•ä¾¡å€¤ã«åŠ ç‚¹ã€‚
            piece_type = opponent_queue.pop()
            value += self.kifuwarabes_subordinate.materials.piece_type_values[piece_type]

            # TODO ã€€ã€€friend_queue ã®å…ˆé ­ã®é§’ã‚’ãƒãƒƒãƒ—ã—ã€ãã®é§’ã®ä¾¡å€¤ã‚’ã€€è©•ä¾¡å€¤ã‹ã‚‰æ¸›ç‚¹ã€‚
            piece_type = friend_queue.pop()
            value -= self.kifuwarabes_subordinate.materials.piece_type_values[piece_type]

        return value

    def on_eval_on_leaf(self, move):
        """æœ«ç«¯å±€é¢ã§ã®è©•ä¾¡å€¤è¨ˆç®—"""

        # æ‰‹ç•ªã‹ã‚‰è¦‹ãŸé§’å‰²è©•ä¾¡
        current_beta = self.kifuwarabes_subordinate.materials_value.eval(
            board=self.kifuwarabes_subordinate.board)

        # TODO é§’ã®å–ã‚Šåˆã„ã‚’è§£æ¶ˆã—ãŸã„ã€‚Static Exchange Evaluation
        current_beta += self.get_static_exchange_evaluation(move)

        current_alpha = -current_beta

        ranging_rook = self.sense_of_beauty.check_ranging_rook()

        if ranging_rook == 2:
            # å…ˆæ‰‹æŒ¯ã‚Šé£›è»Š
            if cshogi.BLACK == self.kifuwarabes_subordinate.board.turn:
                # ç›¸æ‰‹ãŒæŒ¯ã‚Šé£›è»Šã‚„ã£ã¦ã‚‹
                current_alpha -= 10
            else:
                # è‡ªåˆ†ãŒæŒ¯ã‚Šé£›è»Šã‚„ã£ã¦ã‚‹
                current_alpha += 10

        elif ranging_rook == 3:
            # å¾Œæ‰‹æŒ¯ã‚Šé£›è»Š
            if cshogi.WHITE == self.kifuwarabes_subordinate.board.turn:
                # ç›¸æ‰‹ãŒæŒ¯ã‚Šé£›è»Šã‚„ã£ã¦ã‚‹
                current_alpha -= 10
            else:
                # è‡ªåˆ†ãŒæŒ¯ã‚Šé£›è»Šã‚„ã£ã¦ã‚‹
                current_alpha += 10

        elif ranging_rook == 1:
            # ç›¸å±…é£›è»Šã¯ã€ã‚„ã‚ŠãŸã„ã‚ã‘ã§ã¯ãªã„
            pass

        elif ranging_rook == 4:
            # ç›¸æŒ¯ã‚Šé£›è»Šã¯ã€ã‚„ã‚ŠãŸã„ã‚ã‘ã§ã¯ãªã„
            pass

        else:
            # ä½•ã§ã‚‚ãªã„
            pass

        return current_alpha

class MaterialsValue():
    """æ‰‹ç•ªã‹ã‚‰è¦‹ãŸé§’å‰²è©•ä¾¡"""

    def __init__(self):
        # åˆ©ãï¼‘å€‹ 100ç‚¹æ›ç®—
        none_value = 0
        pawn_value = 100
        lance_value = 800 // 2
        knight_value = 200
        silver_value = 500
        gold_value = 600
        bishop_value = 1600 // 2
        rook_value = 1600 // 2
        king_value = 0
        promoted_pawn = 600
        promoted_lance = 600
        promoted_knight = 600
        promoted_silver = 600
        horse = 2000 // 2
        dragon = 2000 // 2

        self._hand = [pawn_value, lance_value, knight_value, silver_value, gold_value, bishop_value, rook_value,]
        """æŒã¡é§’ã€‚æ­©ã€é¦™ã€æ¡‚ã€éŠ€ã€é‡‘ã€è§’ã€é£›"""

        self._piece_type_values = [
            none_value, pawn_value, lance_value, knight_value, silver_value, bishop_value, rook_value, gold_value, king_value,
            # Noneã€â–²æ­©ã€â–²é¦™ã€â–²æ¡‚ã€â–²éŠ€ã€â–²è§’ã€â–²é£›ã€â–²é‡‘ã€â–²ç‰ã€
            promoted_pawn, promoted_lance, promoted_knight, promoted_silver, horse, dragon, none_value,
            # â–²ã¨ã€â–²æã€â–²åœ­ã€â–²å…¨ã€â–²é¦¬ã€â–²ç«œã€æœªä½¿ç”¨ã€
        ]

        self._on_board = [
            none_value, pawn_value, lance_value, knight_value, silver_value, bishop_value, rook_value, gold_value, king_value,
            # Noneã€â–²æ­©ã€â–²é¦™ã€â–²æ¡‚ã€â–²éŠ€ã€â–²è§’ã€â–²é£›ã€â–²é‡‘ã€â–²ç‰ã€
            promoted_pawn, promoted_lance, promoted_knight, promoted_silver, horse, dragon, none_value,
            # â–²ã¨ã€â–²æã€â–²åœ­ã€â–²å…¨ã€â–²é¦¬ã€â–²ç«œã€æœªä½¿ç”¨ã€
            -none_value, -pawn_value, -lance_value, -knight_value, -silver_value, -bishop_value, -rook_value, -gold_value, -king_value,
            # æœªä½¿ç”¨ã€â–½æ­©ã€â–½é¦™ã€â–½æ¡‚ã€â–½éŠ€ã€â–½è§’ã€â–½é£›ã€â–½é‡‘ã€â–½ç‰ã€
            -promoted_pawn, -promoted_lance, -promoted_knight, -promoted_silver, -horse, -dragon, -none_value,
            # â–½ã¨ã€â–½æã€â–½åœ­ã€â–½å…¨ã€â–½é¦¬ã€â–½ç«œã€æœªä½¿ç”¨
            ]
        """ç›¤ä¸Šã®é§’ã®ä¾¡å€¤
        ğŸ“– [cshogiã®ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ (MinMaxæ¢ç´¢)](https://tadaoyamaoka.hatenablog.com/entry/2023/08/13/223655)
        """

    @property
    def hand(self):
        """æŒã¡é§’ã®ä¾¡å€¤"""
        return self._hand

    @property
    def piece_type_values(self):
        """é§’ã®ç¨®é¡åˆ¥ã®ä¾¡å€¤"""
        return self._piece_type_values

    @property
    def on_board(self):
        """ç›¤ä¸Šã®é§’ã®ä¾¡å€¤"""
        return self._on_board

    def eval(self, board):
        """æ‰‹ç•ªã‹ã‚‰è¦‹ãŸè©•ä¾¡"""

        value = sum(self.on_board[pc] for pc in board.pieces if 0 < pc)
        """ç›¤ä¸Šã®é§’ã®ä¾¡å€¤"""

        pieces_in_hand = board.pieces_in_hand
        """æŒã¡é§’"""

        value += sum(self.hand[hand_idx] * (pieces_in_hand[cshogi.BLACK][hand_idx] - pieces_in_hand[cshogi.WHITE][hand_idx]) for hand_idx in range(7) )
        """æŒã¡é§’ã®ä¾¡å€¤"""

        if board.turn == cshogi.BLACK:
            return value

        else:
            """å¾Œæ‰‹ã¯è©•ä¾¡å€¤ã®æ­£è² ã‚’åè»¢"""
            return -value

class CheckBoardPrint():
    """ãƒã‚§ãƒƒã‚¯ãƒœãƒ¼ãƒ‰è¡¨ç¤º"""

    def __init__(self, kifuwarabes_subordinate, kifuwarabes_colleague):
        """åˆæœŸåŒ–

        Parameters
        ----------
        kifuwarabes_subordinate
            ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹
        kifuwarabes_colleague
            ããµã‚ã‚‰ã¹ã®åŒåƒš
        """

        self._kifuwarabes_subordinate = kifuwarabes_subordinate
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""

        self._kifuwarabes_colleague = kifuwarabes_colleague
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""

    @property
    def kifuwarabes_subordinate(self):
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""
        return self._kifuwarabes_subordinate

    @property
    def kifuwarabes_colleague(self):
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""
        return self._kifuwarabes_colleague

    def do_it(self):
        """ãã‚Œã‚’ã™ã‚‹"""
        number_board = range(81)

        text = ''

        # ç›¤
        a = non_zero_to_cross(number_board[cshogi.A1])
        b = non_zero_to_cross(number_board[cshogi.A2])
        c = non_zero_to_cross(number_board[cshogi.A3])
        d = non_zero_to_cross(number_board[cshogi.A4])
        e = non_zero_to_cross(number_board[cshogi.A5])
        f = non_zero_to_cross(number_board[cshogi.A6])
        g = non_zero_to_cross(number_board[cshogi.A7])
        h = non_zero_to_cross(number_board[cshogi.A8])
        i = non_zero_to_cross(number_board[cshogi.A9])
        text += f"""ã€€ã€€ï¼™ã€€ã€€ï¼˜ã€€ã€€ï¼—ã€€ã€€ï¼–ã€€ã€€ï¼•ã€€ã€€ï¼”ã€€ã€€ï¼“ã€€ã€€ï¼’ã€€ã€€ï¼‘
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€ä¸€
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = non_zero_to_cross(number_board[cshogi.B1])
        b = non_zero_to_cross(number_board[cshogi.B2])
        c = non_zero_to_cross(number_board[cshogi.B3])
        d = non_zero_to_cross(number_board[cshogi.B4])
        e = non_zero_to_cross(number_board[cshogi.B5])
        f = non_zero_to_cross(number_board[cshogi.B6])
        g = non_zero_to_cross(number_board[cshogi.B7])
        h = non_zero_to_cross(number_board[cshogi.B8])
        i = non_zero_to_cross(number_board[cshogi.B9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€äºŒ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = non_zero_to_cross(number_board[cshogi.C1])
        b = non_zero_to_cross(number_board[cshogi.C2])
        c = non_zero_to_cross(number_board[cshogi.C3])
        d = non_zero_to_cross(number_board[cshogi.C4])
        e = non_zero_to_cross(number_board[cshogi.C5])
        f = non_zero_to_cross(number_board[cshogi.C6])
        g = non_zero_to_cross(number_board[cshogi.C7])
        h = non_zero_to_cross(number_board[cshogi.C8])
        i = non_zero_to_cross(number_board[cshogi.C9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€ä¸‰
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = non_zero_to_cross(number_board[cshogi.D1])
        b = non_zero_to_cross(number_board[cshogi.D2])
        c = non_zero_to_cross(number_board[cshogi.D3])
        d = non_zero_to_cross(number_board[cshogi.D4])
        e = non_zero_to_cross(number_board[cshogi.D5])
        f = non_zero_to_cross(number_board[cshogi.D6])
        g = non_zero_to_cross(number_board[cshogi.D7])
        h = non_zero_to_cross(number_board[cshogi.D8])
        i = non_zero_to_cross(number_board[cshogi.D9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€å››
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = non_zero_to_cross(number_board[cshogi.E1])
        b = non_zero_to_cross(number_board[cshogi.E2])
        c = non_zero_to_cross(number_board[cshogi.E3])
        d = non_zero_to_cross(number_board[cshogi.E4])
        e = non_zero_to_cross(number_board[cshogi.E5])
        f = non_zero_to_cross(number_board[cshogi.E6])
        g = non_zero_to_cross(number_board[cshogi.E7])
        h = non_zero_to_cross(number_board[cshogi.E8])
        i = non_zero_to_cross(number_board[cshogi.E9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€äº”
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = non_zero_to_cross(number_board[cshogi.F1])
        b = non_zero_to_cross(number_board[cshogi.F2])
        c = non_zero_to_cross(number_board[cshogi.F3])
        d = non_zero_to_cross(number_board[cshogi.F4])
        e = non_zero_to_cross(number_board[cshogi.F5])
        f = non_zero_to_cross(number_board[cshogi.F6])
        g = non_zero_to_cross(number_board[cshogi.F7])
        h = non_zero_to_cross(number_board[cshogi.F8])
        i = non_zero_to_cross(number_board[cshogi.F9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€å…­
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = non_zero_to_cross(number_board[cshogi.G1])
        b = non_zero_to_cross(number_board[cshogi.G2])
        c = non_zero_to_cross(number_board[cshogi.G3])
        d = non_zero_to_cross(number_board[cshogi.G4])
        e = non_zero_to_cross(number_board[cshogi.G5])
        f = non_zero_to_cross(number_board[cshogi.G6])
        g = non_zero_to_cross(number_board[cshogi.G7])
        h = non_zero_to_cross(number_board[cshogi.G8])
        i = non_zero_to_cross(number_board[cshogi.G9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€ä¸ƒ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = non_zero_to_cross(number_board[cshogi.H1])
        b = non_zero_to_cross(number_board[cshogi.H2])
        c = non_zero_to_cross(number_board[cshogi.H3])
        d = non_zero_to_cross(number_board[cshogi.H4])
        e = non_zero_to_cross(number_board[cshogi.H5])
        f = non_zero_to_cross(number_board[cshogi.H6])
        g = non_zero_to_cross(number_board[cshogi.H7])
        h = non_zero_to_cross(number_board[cshogi.H8])
        i = non_zero_to_cross(number_board[cshogi.H9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€å…«
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = non_zero_to_cross(number_board[cshogi.I1])
        b = non_zero_to_cross(number_board[cshogi.I2])
        c = non_zero_to_cross(number_board[cshogi.I3])
        d = non_zero_to_cross(number_board[cshogi.I4])
        e = non_zero_to_cross(number_board[cshogi.I5])
        f = non_zero_to_cross(number_board[cshogi.I6])
        g = non_zero_to_cross(number_board[cshogi.I7])
        h = non_zero_to_cross(number_board[cshogi.I8])
        i = non_zero_to_cross(number_board[cshogi.I9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€ä¹
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        print(text)

class PositionPrint():
    """å±€é¢è¡¨ç¤º"""

    def __init__(self, kifuwarabes_subordinate, kifuwarabes_colleague):
        """åˆæœŸåŒ–

        Parameters
        ----------
        kifuwarabes_subordinate
            ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹
        kifuwarabes_colleague
            ããµã‚ã‚‰ã¹ã®åŒåƒš
        """

        self._kifuwarabes_subordinate = kifuwarabes_subordinate
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""

        self._kifuwarabes_colleague = kifuwarabes_colleague
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""

    @property
    def kifuwarabes_subordinate(self):
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""
        return self._kifuwarabes_subordinate

    @property
    def kifuwarabes_colleague(self):
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""
        return self._kifuwarabes_colleague

    def do_it(self):
        """ãã‚Œã‚’ã™ã‚‹"""
        board = self.kifuwarabes_subordinate.board

        move_number_str = board.move_number

        if board.turn == cshogi.BLACK:
            turn_str = "black"
        else:
            turn_str = "white"

        text = f'''[{move_number_str} moves / {turn_str}]

'''

        # å¾Œæ‰‹æŒã¡é§’
        a = number_of_hand_to_string(board.pieces_in_hand[cshogi.WHITE][0])
        b = number_of_hand_to_string(board.pieces_in_hand[cshogi.WHITE][1])
        c = number_of_hand_to_string(board.pieces_in_hand[cshogi.WHITE][2])
        d = number_of_hand_to_string(board.pieces_in_hand[cshogi.WHITE][3])
        e = number_of_hand_to_string(board.pieces_in_hand[cshogi.WHITE][4])
        f = number_of_hand_to_string(board.pieces_in_hand[cshogi.WHITE][5])
        g = number_of_hand_to_string(board.pieces_in_hand[cshogi.WHITE][6])

        text += f"""ã€€ã€€æ­©ã€€ã€€é¦™ã€€ã€€æ¡‚ã€€ã€€éŠ€ã€€ã€€é‡‘ã€€ã€€è§’ã€€ã€€é£›
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
ï½œ{a}ï½œ{b}ï½œ{c}ï½œ{d}ï½œ{e}ï½œ{f}ï½œ{g}ï½œ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹

"""

        # ç›¤
        a = piece_to_string(board.pieces[cshogi.A1])
        b = piece_to_string(board.pieces[cshogi.A2])
        c = piece_to_string(board.pieces[cshogi.A3])
        d = piece_to_string(board.pieces[cshogi.A4])
        e = piece_to_string(board.pieces[cshogi.A5])
        f = piece_to_string(board.pieces[cshogi.A6])
        g = piece_to_string(board.pieces[cshogi.A7])
        h = piece_to_string(board.pieces[cshogi.A8])
        i = piece_to_string(board.pieces[cshogi.A9])
        text += f"""ã€€ã€€ï¼™ã€€ã€€ï¼˜ã€€ã€€ï¼—ã€€ã€€ï¼–ã€€ã€€ï¼•ã€€ã€€ï¼”ã€€ã€€ï¼“ã€€ã€€ï¼’ã€€ã€€ï¼‘
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€ä¸€
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = piece_to_string(board.pieces[cshogi.B1])
        b = piece_to_string(board.pieces[cshogi.B2])
        c = piece_to_string(board.pieces[cshogi.B3])
        d = piece_to_string(board.pieces[cshogi.B4])
        e = piece_to_string(board.pieces[cshogi.B5])
        f = piece_to_string(board.pieces[cshogi.B6])
        g = piece_to_string(board.pieces[cshogi.B7])
        h = piece_to_string(board.pieces[cshogi.B8])
        i = piece_to_string(board.pieces[cshogi.B9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€äºŒ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = piece_to_string(board.pieces[cshogi.C1])
        b = piece_to_string(board.pieces[cshogi.C2])
        c = piece_to_string(board.pieces[cshogi.C3])
        d = piece_to_string(board.pieces[cshogi.C4])
        e = piece_to_string(board.pieces[cshogi.C5])
        f = piece_to_string(board.pieces[cshogi.C6])
        g = piece_to_string(board.pieces[cshogi.C7])
        h = piece_to_string(board.pieces[cshogi.C8])
        i = piece_to_string(board.pieces[cshogi.C9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€ä¸‰
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = piece_to_string(board.pieces[cshogi.D1])
        b = piece_to_string(board.pieces[cshogi.D2])
        c = piece_to_string(board.pieces[cshogi.D3])
        d = piece_to_string(board.pieces[cshogi.D4])
        e = piece_to_string(board.pieces[cshogi.D5])
        f = piece_to_string(board.pieces[cshogi.D6])
        g = piece_to_string(board.pieces[cshogi.D7])
        h = piece_to_string(board.pieces[cshogi.D8])
        i = piece_to_string(board.pieces[cshogi.D9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€å››
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = piece_to_string(board.pieces[cshogi.E1])
        b = piece_to_string(board.pieces[cshogi.E2])
        c = piece_to_string(board.pieces[cshogi.E3])
        d = piece_to_string(board.pieces[cshogi.E4])
        e = piece_to_string(board.pieces[cshogi.E5])
        f = piece_to_string(board.pieces[cshogi.E6])
        g = piece_to_string(board.pieces[cshogi.E7])
        h = piece_to_string(board.pieces[cshogi.E8])
        i = piece_to_string(board.pieces[cshogi.E9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€äº”
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = piece_to_string(board.pieces[cshogi.F1])
        b = piece_to_string(board.pieces[cshogi.F2])
        c = piece_to_string(board.pieces[cshogi.F3])
        d = piece_to_string(board.pieces[cshogi.F4])
        e = piece_to_string(board.pieces[cshogi.F5])
        f = piece_to_string(board.pieces[cshogi.F6])
        g = piece_to_string(board.pieces[cshogi.F7])
        h = piece_to_string(board.pieces[cshogi.F8])
        i = piece_to_string(board.pieces[cshogi.F9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€å…­
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = piece_to_string(board.pieces[cshogi.G1])
        b = piece_to_string(board.pieces[cshogi.G2])
        c = piece_to_string(board.pieces[cshogi.G3])
        d = piece_to_string(board.pieces[cshogi.G4])
        e = piece_to_string(board.pieces[cshogi.G5])
        f = piece_to_string(board.pieces[cshogi.G6])
        g = piece_to_string(board.pieces[cshogi.G7])
        h = piece_to_string(board.pieces[cshogi.G8])
        i = piece_to_string(board.pieces[cshogi.G9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€ä¸ƒ
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = piece_to_string(board.pieces[cshogi.H1])
        b = piece_to_string(board.pieces[cshogi.H2])
        c = piece_to_string(board.pieces[cshogi.H3])
        d = piece_to_string(board.pieces[cshogi.H4])
        e = piece_to_string(board.pieces[cshogi.H5])
        f = piece_to_string(board.pieces[cshogi.H6])
        g = piece_to_string(board.pieces[cshogi.H7])
        h = piece_to_string(board.pieces[cshogi.H8])
        i = piece_to_string(board.pieces[cshogi.H9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€å…«
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        a = piece_to_string(board.pieces[cshogi.I1])
        b = piece_to_string(board.pieces[cshogi.I2])
        c = piece_to_string(board.pieces[cshogi.I3])
        d = piece_to_string(board.pieces[cshogi.I4])
        e = piece_to_string(board.pieces[cshogi.I5])
        f = piece_to_string(board.pieces[cshogi.I6])
        g = piece_to_string(board.pieces[cshogi.I7])
        h = piece_to_string(board.pieces[cshogi.I8])
        i = piece_to_string(board.pieces[cshogi.I9])
        text += f"""ï½œ{i}ï½œ{h}ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œã€€ä¹
ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        # å…ˆæ‰‹æŒã¡é§’
        a = number_of_hand_to_string(board.pieces_in_hand[cshogi.BLACK][0])
        b = number_of_hand_to_string(board.pieces_in_hand[cshogi.BLACK][1])
        c = number_of_hand_to_string(board.pieces_in_hand[cshogi.BLACK][2])
        d = number_of_hand_to_string(board.pieces_in_hand[cshogi.BLACK][3])
        e = number_of_hand_to_string(board.pieces_in_hand[cshogi.BLACK][4])
        f = number_of_hand_to_string(board.pieces_in_hand[cshogi.BLACK][5])
        g = number_of_hand_to_string(board.pieces_in_hand[cshogi.BLACK][6])

        text += f"""
ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€é£›ã€€ã€€è§’ã€€ã€€é‡‘ã€€ã€€éŠ€ã€€ã€€æ¡‚ã€€ã€€é¦™ã€€ã€€æ­©
ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
ã€€ã€€ã€€ã€€ã€€ã€€ï½œ{g}ï½œ{f}ï½œ{e}ï½œ{d}ï½œ{c}ï½œ{b}ï½œ{a}ï½œ
ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
"""

        print(text)

class BoardValue():
    """ç›¤ã®æ±ºã¾ã‚Šãã£ãŸä¾¡å€¤"""

    def __init__(self, kifuwarabes_subordinate, kifuwarabes_colleague):
        """åˆæœŸåŒ–

        Parameters
        ----------
        kifuwarabes_subordinate
            ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹
        kifuwarabes_colleague
            ããµã‚ã‚‰ã¹ã®åŒåƒš
        """

        self._kifuwarabes_subordinate = kifuwarabes_subordinate
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""

        self._kifuwarabes_colleague = kifuwarabes_colleague
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""

    @property
    def kifuwarabes_subordinate(self):
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""
        return self._kifuwarabes_subordinate

    @property
    def kifuwarabes_colleague(self):
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""
        return self._kifuwarabes_colleague

    def eval(self):
        """è©•ä¾¡"""

        if self.kifuwarabes_subordinate.board.is_game_over():
            # è² ã‘
            return -30000

        if self.kifuwarabes_subordinate.board.is_nyugyoku():
            # å…¥ç‰å®£è¨€å‹ã¡
            return 30000

        draw = self.kifuwarabes_subordinate.board.is_draw(16)

        if draw == cshogi.REPETITION_DRAW:
            # åƒæ—¥æ‰‹
            return 0

        if draw == cshogi.REPETITION_WIN:
            # åƒæ—¥æ‰‹ã§å‹ã¡
            return 30000

        if draw == cshogi.REPETITION_LOSE:
            # åƒæ—¥æ‰‹ã§è² ã‘
            return -30000

        if draw == cshogi.REPETITION_SUPERIOR:
            # åƒæ—¥æ‰‹ã®ä¸Šé™ï¼Ÿï¼Ÿ
            return 30000

        if draw == cshogi.REPETITION_INFERIOR:
            # åƒæ—¥æ‰‹ã®ä¸‹é™ï¼Ÿï¼Ÿ
            return -30000

        """åˆ¥é€”ã€è¨ˆç®—ãŒå¿…è¦"""
        return None

class Control():
    """åˆ©ã"""

    def __init__(self, kifuwarabes_subordinate, kifuwarabes_colleague):
        """åˆæœŸåŒ–

        Parameters
        ----------
        kifuwarabes_subordinate
            ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹
        kifuwarabes_colleague
            ããµã‚ã‚‰ã¹ã®åŒåƒš
        """

        self._kifuwarabes_subordinate = kifuwarabes_subordinate
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""

        self._kifuwarabes_colleague = kifuwarabes_colleague
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""

        # é•·ã„åˆ©ãã¯é™¤ã
        self._relative_sq_arrays = [
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ï¼ï¼ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            None,
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ï¼‘ï¼ã€€ã€€ã€€ã€€ï½œï¼¿æ­©ï½œ
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north],
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ï¼’ï¼ã€€ã€€ã€€ã€€ï½œï¼¿é¦™ï½œ
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ï¼“ï¼ã€€ã€€ã€€ã€€ï½œï¼¿æ¡‚ï½œ
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_north_east, north_north_west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ï¼”ï¼ã€€ï½œã€€ã€€ï½œï¼¿éŠ€ï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, south_east, north, north_west, south_west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ï¼•ï¼ã€€ï½œã€€ã€€ï½œï¼¿è§’ï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, south_east, north_west, south_west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ï¼–ï¼ã€€ï½œï¼Šï¼Šï½œï¼¿é£›ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [east, north, south, west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ï¼—ï¼ã€€ï½œï¼Šï¼Šï½œï¼¿é‡‘ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, east, north, south, north_west, west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ï¼˜ï¼ã€€ï½œï¼Šï¼Šï½œï¼¿ç‰ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, east, south_east, north, south, north_west, west, south_west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ï¼™ï¼ã€€ï½œï¼Šï¼Šï½œï¼¿ã¨ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, east, north, south, north_west, west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼‘ï¼ï¼ã€€ï½œï¼Šï¼Šï½œï¼¿æï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, east, north, south, north_west, west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼‘ï¼‘ï¼ã€€ï½œï¼Šï¼Šï½œï¼¿åœ­ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, east, north, south, north_west, west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼‘ï¼’ï¼ã€€ï½œï¼Šï¼Šï½œï¼¿å…¨ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, east, north, south, north_west, west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼‘ï¼“ï¼ã€€ï½œï¼Šï¼Šï½œï¼¿é¦¬ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, east, south_east, north, south, north_west, west, south_west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼‘ï¼”ï¼ã€€ï½œï¼Šï¼Šï½œï¼¿ç«œï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, east, south_east, north, south, north_west, west, south_west],
            #ã€€ï¼‘ï¼•ï¼ æœªä½¿ç”¨
            None,
            #ã€€ï¼‘ï¼–ï¼ æœªä½¿ç”¨
            None,
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼‘ï¼—ï¼ã€€ã€€ã€€ã€€ï½œï½–æ­©ï½œ
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            [south],
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼‘ï¼˜ï¼ã€€ã€€ã€€ã€€ï½œï½–é¦™ï½œ
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            [south],
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼‘ï¼™ï¼ã€€ã€€ã€€ã€€ï½œï½–æ¡‚ï½œ
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [south_south_east, south_south_west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼’ï¼ï¼ã€€ï½œã€€ã€€ï½œï½–éŠ€ï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, south_east, south, north_west, south_west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼’ï¼‘ï¼ã€€ï½œã€€ã€€ï½œï½–è§’ï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, south_east, north_west, south_west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼’ï¼’ï¼ã€€ï½œï¼Šï¼Šï½œï¼¿é£›ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [east, north, south, west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼’ï¼“ï¼ã€€ï½œï¼Šï¼Šï½œï½–é‡‘ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [east, south_east, north, south, west, south_east],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼’ï¼”ï¼ã€€ï½œï¼Šï¼Šï½œï½–ç‰ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, east, south_east, north, south, north_west, west, south_west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼’ï¼•ï¼ã€€ï½œï¼Šï¼Šï½œï½–ã¨ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [east, south_east, north, south, west, south_east],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼’ï¼–ï¼ã€€ï½œï¼Šï¼Šï½œï½–æï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [east, south_east, north, south, west, south_east],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼’ï¼—ï¼ã€€ï½œï¼Šï¼Šï½œï½–åœ­ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [east, south_east, north, south, west, south_east],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œã€€ã€€ï½œï¼Šï¼Šï½œã€€ã€€ï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼’ï¼˜ï¼ã€€ï½œï¼Šï¼Šï½œï½–å…¨ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [east, south_east, north, south, west, south_east],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼’ï¼™ï¼ã€€ï½œï¼Šï¼Šï½œï½–é¦¬ï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, east, south_east, north, south, north_west, west, south_west],
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ï¼“ï¼ï¼ã€€ï½œï¼Šï¼Šï½œï½–ç«œï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            #ã€€ã€€ã€€ã€€ã€€ï½œï¼Šï¼Šï½œï¼Šï¼Šï½œï¼Šï¼Šï½œ
            #ã€€ã€€ã€€ã€€ã€€ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹ãƒ¼ãƒ¼ï¼‹
            [north_east, east, south_east, north, south, north_west, west, south_west],
            #ã€€ï¼“ï¼‘ï¼ æœªä½¿ç”¨
            None,
        ]
        """åˆ©ãã‚’ç›¸å¯¾ä½ç½®ã§è¨­å®š"""

    @property
    def kifuwarabes_subordinate(self):
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""
        return self._kifuwarabes_subordinate

    @property
    def kifuwarabes_colleague(self):
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""
        return self._kifuwarabes_colleague

    @property
    def relative_sq_arrays(self):
        """é…åˆ—"""
        return self._relative_sq_arrays

    def list_by(self, origin_sq, piece):
        """åˆ©ãã®ãƒªã‚¹ãƒˆ"""

        relative_sq_array = self.relative_sq_arrays[piece]

        if relative_sq_array is None:
            return []

        else:
            lst = list(relative_sq_array)

            # TODO é•·ã„åˆ©ãã‚’è€ƒæ…®
            if piece == cshogi.BLANCE or piece == cshogi.BROOK or piece == cshogi.WROOK or piece == cshogi.BPROM_ROOK or piece == cshogi.WPROM_ROOK:
                #ã€€ï¼¿é¦™
                pass

            if piece == cshogi.WLANCE or piece == cshogi.BROOK or piece == cshogi.WROOK:
                #ã€€ï½–é¦™
                pass

            if piece == cshogi.BROOK or piece == cshogi.WROOK or piece == cshogi.BPROM_ROOK or piece == cshogi.WPROM_ROOK:
                #ã€€é£›ã€ç«œã®æ¨ª
                pass

            if piece == cshogi.BBISHOP or piece == cshogi.WBISHOP or  piece == cshogi.BPROM_BISHOP or piece == cshogi.WPROM_BISHOP:
                #ã€€è§’ã€é¦¬
                pass

            # ç›¸å¯¾ä½ç½®ã‚’ã€çµ¶å¯¾ä½ç½®ã¸å¤‰æ›
            return [sq + origin_sq for sq in lst]



class SenseOfBeauty():
    """ç¾æ„è­˜"""

    def __init__(self, kifuwarabes_subordinate, kifuwarabes_colleague):
        """åˆæœŸåŒ–

        Parameters
        ----------
        kifuwarabes_subordinate
            ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹
        kifuwarabes_colleague
            ããµã‚ã‚‰ã¹ã®åŒåƒš
        """

        self._kifuwarabes_subordinate = kifuwarabes_subordinate
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""

        self._kifuwarabes_colleague = kifuwarabes_colleague
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""

    @property
    def kifuwarabes_subordinate(self):
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""
        return self._kifuwarabes_subordinate

    @property
    def kifuwarabes_colleague(self):
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""
        return self._kifuwarabes_colleague

    def check_ranging_rook(self):
        """æŒ¯ã‚Šé£›è»Šã‹ã©ã†ã‹èª¿ã¹ã‚‹
        0: ä½•ã§ã‚‚ãªã„
        1: ç›¸å±…é£›è»Š
        2: å…ˆæ‰‹æŒ¯ã‚Šé£›è»Šã€å¾Œæ‰‹å±…é£›è»Š
        3: å…ˆæ‰‹å±…é£›è»Šã€å¾Œæ‰‹æŒ¯ã‚Šé£›è»Š
        4: ç›¸æŒ¯ã‚Šé£›è»Š
        """

        # å±€é¢ã«ã¯ï¼’ã¤ã®é£›è»ŠãŒã‚ã‚‹ã€‚
        # ç›¤ä¸Šã«è‡ªåˆ†ã®é£›è»Šã€ç›¸æ‰‹ã®é£›è»ŠãŒã‚ã‚‹ã¨ãã®ã¿ç™ºå‹•ã™ã‚‹

        sente_idx = 0
        gote_idx = 1
        piece_idx = 0 # piece index
        sq_idx = 1 # square index

        rook_pos = []
        for sq, piece in enumerate(self.kifuwarabes_subordinate.board.pieces):
            if piece == cshogi.BROOK or piece == cshogi.WROOK:
                rook_pos.append((piece,sq))

        if len(rook_pos) == 2:
            if rook_pos[sente_idx][piece_idx] == rook_pos[gote_idx][piece_idx]:
                """å…ˆæ‰‹ã€å¾Œæ‰‹ãŒåˆ†ã‹ã‚Œã¦ã„ãªã‘ã‚Œã°ã€å¯¾è±¡å¤–"""
                pass

            # å…ˆæ‰‹ã€å¾Œæ‰‹ã®é †ã«ã™ã‚‹
            if rook_pos[gote_idx][piece_idx] == cshogi.BROOK and rook_pos[sente_idx][piece_idx] == cshogi.WROOK:
                temp = rook_pos[gote_idx]
                rook_pos[gote_idx] = rook_pos[sente_idx]
                rook_pos[sente_idx] = temp

            if rook_pos[sente_idx][sq_idx] == jsa_to_sq(28):
                if rook_pos[gote_idx][sq_idx] == jsa_to_sq(82):
                    return 1 # ç›¸å±…é£›è»Š
                else:
                    return 3 # å¾Œæ‰‹æŒ¯ã‚Šé£›è»Š
            else:
                if rook_pos[gote_idx][sq_idx] == jsa_to_sq(82):
                    return 2 # å…ˆæ‰‹æŒ¯ã‚Šé£›è»Š
                else:
                    return 4 # ç›¸æŒ¯ã‚Šé£›è»Š

        return 0 # ä½•ã§ã‚‚ãªã„

class Thought():
    """æ€è€ƒ"""

    def __init__(self, kifuwarabes_subordinate, kifuwarabes_colleague):
        """åˆæœŸåŒ–

        Parameters
        ----------
        kifuwarabes_subordinate
            ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹
        kifuwarabes_colleague
            ããµã‚ã‚‰ã¹ã®åŒåƒš
        """

        self._kifuwarabes_subordinate = kifuwarabes_subordinate
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""

        self._kifuwarabes_colleague = kifuwarabes_colleague
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""

    @property
    def kifuwarabes_subordinate(self):
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""
        return self._kifuwarabes_subordinate

    @property
    def kifuwarabes_colleague(self):
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""
        return self._kifuwarabes_colleague

    def do_it(self):
        """ãã‚Œã‚’ã™ã‚‹"""

        if self.kifuwarabes_subordinate.board.is_game_over():
            """æŠ•äº†å±€é¢æ™‚"""

            return ('resign', 0)
            """æŠ•äº†"""

        if self.kifuwarabes_subordinate.board.is_nyugyoku():
            """å…¥ç‰å®£è¨€å±€é¢æ™‚"""

            return ('win', 0)
            """å‹åˆ©å®£è¨€"""

        if not self.kifuwarabes_subordinate.board.is_check():
            """è‡ªç‰ã«ç‹æ‰‹ãŒã‹ã‹ã£ã¦ã„ãªã„æ™‚"""

            if (matemove:=self.kifuwarabes_subordinate.board.mate_move_in_1ply()):
                """ã‚ã‚Œã°ã€ä¸€æ‰‹è©°ã‚ã®æŒ‡ã—æ‰‹ã‚’å–å¾—"""

                print('info score mate 1 pv {}'.format(cshogi.move_to_usi(matemove)))
                return (cshogi.move_to_usi(matemove), 0)

        # move = self.choice_random(list(self.kifuwarabes_subordinate.board.legal_moves))
        (current_beta, bestmove_list) = self.kifuwarabes_colleague.alpha_beta_pruning.do_it(
            depth=3,
            alpha = -9999999, # æ•°ã‚ã‚‹é¸æŠè‚¢ã®ä¸­ã®ã€è©•ä¾¡å€¤ã®ä¸‹é™ã€‚ã“ã®ä¸‹é™å€¤ã¯ã€ãƒ™ãƒ¼ã‚¿å€¤ã„ã£ã±ã„ã¾ã§ä¸Šã’ãŸã„"""
            beta = 9999999, # æ•°ã‚ã‚‹é¸æŠè‚¢ã®ä¸­ã®ã€è©•ä¾¡å€¤ã®ä¸Šé™ã€‚ã“ã®å€¤ã‚’è¶…ãˆã‚‹é¸æŠè‚¢ã¯ã€ç›¸æ‰‹ã«å¿…ãšå¦¨å®³ã•ã‚Œã‚‹ã®ã§é¸ã¹ãªã„
            is_root = True
        )
        """å°†æ¥ç²å¾—ã§ãã‚‹ã§ã‚ã‚ã†ã€æœ€ã‚‚è‰¯ã„ã€æœ€ä½é™ã®è©•ä¾¡å€¤"""

        alpha = -current_beta
        bestmove = random.choice(bestmove_list)
        """å€™è£œæ‰‹ã®ä¸­ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã¶"""

        return (cshogi.move_to_usi(bestmove), alpha)
        """æŒ‡ã—æ‰‹ã®è¨˜æ³•ã§è¿”å´"""

    # def choice_random(self, legal_moves):
    #     # move = np.random.choice(legal_moves)
    #     # """ä¹±æŠ"""
    # 
    #     random.shuffle(legal_moves)
    # 
    #     # å–ã‚‹é§’ï¼Œæˆã‚‹ãƒ•ãƒ©ã‚°ã®éƒ¨åˆ†ã‚’ãƒ•ã‚£ãƒ«ã‚¿ã—ã¦æœ€å¤§å€¤ã‚’å–ã‚‹
    # 
    #     move = max(legal_moves, key=lambda x:x & 0b111100000100000000000000)
    #     """
    #                                                ^^^^     ^
    #                                                1        2
    #     ï¼‘ï¼ã€€å–ã‚‰ã‚ŒãŸé§’ã®ç¨®é¡ã€‚0 ä»¥å¤–ãªã‚‰ä½•ã‹å–ã£ãŸ
    #     ï¼’ï¼ã€€1:æˆã‚Š 2:æˆã‚Šã§ãªã„ã€‚ 1 ãªã‚‰æˆã£ãŸ
    # 
    #     æœ€å¤§å€¤ã ã‹ã‚‰è‰¯ã„ã¨ã„ã†ã“ã¨ã¯ãªã„ãŒã€åŒã˜å±€é¢ã§ã€ã„ã¤ã‚‚åŒã˜æ‰‹ã‚’é¸ã¶åƒããŒã‚ã‚‹
    # 
    #     ğŸ“– [1file matchï¼ˆä»®ï¼‰ã®å‚è€ƒè³‡æ–™ï¼’ï¼ˆæ•°è¡Œã§ãƒ¬ãƒ¼ãƒˆã‚’1300ä»¥ä¸Šä¸Šã’ã‚‹ï¼‰](https://bleu48.hatenablog.com/entry/2023/08/05/122818)
    #     ğŸ“– [cshogi/src/move.hpp](https://github.com/TadaoYamaoka/cshogi/blob/master/src/move.hpp)
    # 
    #     // xxxxxxxx xxxxxxxx xxxxxxxx x1111111  ç§»å‹•å…ˆ
    #     // xxxxxxxx xxxxxxxx xx111111 1xxxxxxx  ç§»å‹•å…ƒã€‚é§’æ‰“ã¡ã®éš›ã«ã¯ã€PieceType + SquareNum - 1
    #     // xxxxxxxx xxxxxxxx x1xxxxxx xxxxxxxx  1 ãªã‚‰æˆã‚Š
    #     // xxxxxxxx xxxx1111 xxxxxxxx xxxxxxxx  ç§»å‹•ã™ã‚‹é§’ã® PieceType é§’æ‰“ã¡ã®éš›ã«ã¯ä½¿ç”¨ã—ãªã„ã€‚
    #     // xxxxxxxx 1111xxxx xxxxxxxx xxxxxxxx  å–ã‚‰ã‚ŒãŸé§’ã® PieceType
    #     """
    # 
    #     return move


class AlphaBetaPruning():
    """æ¢ç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€€ã‚¢ãƒ«ãƒ•ã‚¡ãƒ¼ãƒ™ãƒ¼ã‚¿ãƒ¼åˆˆã‚Š
    ãƒŸãƒ‹ãƒãƒƒã‚¯ã‚¹æˆ¦ç•¥
    å®Ÿè£…ã¯ãƒã‚¬ãƒãƒƒã‚¯ã‚¹

    ğŸ“– [ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒ¼ã‚¿æ¢ç´¢ï¼ˆalpha-beta pruningï¼‰ã‚„ã‚ã†ãœï¼ˆï¼¾ï½ï¼¾ï¼‰ï¼Ÿ](https://crieit.net/drafts/60e6206eaf964)
    """

    def __init__(self, kifuwarabes_subordinate, kifuwarabes_colleague, on_eval_on_leaf):
        """åˆæœŸåŒ–

        Parameters
        ----------
        kifuwarabes_subordinate
            ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹
        """

        self._kifuwarabes_subordinate = kifuwarabes_subordinate
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""

        self._kifuwarabes_colleague = kifuwarabes_colleague
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""

        self._on_eval_on_leaf = on_eval_on_leaf
        """æœ«ç«¯å±€é¢ã§ã®è©•ä¾¡å€¤è¨ˆç®—"""

    @property
    def kifuwarabes_subordinate(self):
        """ããµã‚ã‚‰ã¹ã®éƒ¨ä¸‹"""
        return self._kifuwarabes_subordinate

    @property
    def kifuwarabes_colleague(self):
        """ããµã‚ã‚‰ã¹ã®åŒåƒš"""
        return self._kifuwarabes_colleague

    @property
    def on_eval_on_leaf(self):
        """æœ«ç«¯å±€é¢ã§ã®è©•ä¾¡å€¤è¨ˆç®—"""
        return self._on_eval_on_leaf

    def do_it(self, depth, alpha, beta, is_root=False):
        """ãã‚Œã‚’ã™ã‚‹

        Parameters
        ----------
        depth
            æ·±ã•
        alpha
            Î± ã¯ã€ã‚ãŸã—ã€‚æ•°ã‚ã‚‹é¸æŠè‚¢ã®ä¸­ã®ã€è©•ä¾¡å€¤ã®ä¸‹é™ã€‚ã“ã®ä¸‹é™å€¤ã¯ã€ãƒ™ãƒ¼ã‚¿å€¤ã„ã£ã±ã„ã¾ã§ä¸Šã’ãŸã„
        beta
            Î² ã¯ã€ã‚ãªãŸã€‚æ•°ã‚ã‚‹é¸æŠè‚¢ã®ä¸­ã®ã€è©•ä¾¡å€¤ã®ä¸Šé™ã€‚ã“ã®å€¤ã‚’è¶…ãˆã‚‹é¸æŠè‚¢ã¯ã€ç›¸æ‰‹ã«å¿…ãšå¦¨å®³ã•ã‚Œã‚‹ã®ã§é¸ã¹ãªã„
        """

        if is_root:
            best_move_list = []

        beta_cutoff = False

        for move in list(self.kifuwarabes_subordinate.board.legal_moves):

            self.kifuwarabes_subordinate.board.push(move)
            """ä¸€æ‰‹æŒ‡ã™"""

            checked_beta = self.kifuwarabes_colleague.board_value.eval()
            """ã‚ã‚Œã°ã€æ±ºã¾ã‚Šãã£ãŸç›¤é¢è©•ä¾¡å€¤"""

            if checked_beta is None:
                """åˆ¥é€”ã€è¨ˆç®—ãŒå¿…è¦ãªã‚±ãƒ¼ã‚¹"""

                if depth > 1:
                    (current_beta, _move_list) = self.do_it(
                        depth=depth - 1,
                        alpha=-beta,    # ãƒ™ãƒ¼ã‚¿ãƒ¼å€¤ã¯ã€ç›¸æ‰‹ã‹ã‚‰è¦‹ã‚Œã°ã‚¢ãƒ«ãƒ•ã‚¡ãƒ¼å€¤
                        beta=-alpha)    # ã‚¢ãƒ«ãƒ•ã‚¡ãƒ¼å€¤ã¯ã€ç›¸æ‰‹ã‹ã‚‰è¦‹ã‚Œã°ãƒ™ãƒ¼ã‚¿ãƒ¼å€¤
                    """å°†æ¥ç²å¾—ã§ãã‚‹ã§ã‚ã‚ã†ã€æœ€ä½é™ã®è©•ä¾¡å€¤"""

                    current_alpha = -current_beta

                else:
                    """æœ«ç«¯å±€é¢è©•ä¾¡å€¤"""

                    # ã©ã‚“ãªæ‰‹ã‚’æŒ‡ã—ãŸã‹

                    current_beta = self.on_eval_on_leaf(move)
                    current_alpha = -current_beta

            else:
                current_alpha = -checked_beta
                """ç›¤é¢ã®æ±ºã¾ã‚Šãã£ãŸè©•ä¾¡å€¤"""

            if beta < current_alpha:
                """ãƒ™ãƒ¼ã‚¿ãƒ¼ãƒ»ã‚«ãƒƒãƒˆ"""
                beta_cutoff = True

            elif alpha < current_alpha:
                alpha = current_alpha
                """ã„ã‚ã‚†ã‚‹ã‚¢ãƒ«ãƒ•ã‚¡ãƒ¼ãƒ»ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã€‚
                è‡ªåˆ†ãŒå°†æ¥ç²å¾—ã§ãã‚‹ã§ã‚ã‚ã†æœ€ä½é™ã®è©•ä¾¡å€¤ãŒã€å¢—ãˆãŸ"""

                if is_root:
                    best_move_list = [move]

            elif is_root and current_alpha == alpha:
                best_move_list.append(move)
                """è©•ä¾¡å€¤ãŒç­‰ã—ã„æŒ‡ã—æ‰‹ã‚’è¿½åŠ """

            self.kifuwarabes_subordinate.board.pop()
            """ä¸€æ‰‹æˆ»ã™"""

            if beta_cutoff:
                """ã“ã‚Œã‚ˆã‚Šå…ˆã®å…„å¼Ÿã¯ã€é¸ã°ã‚Œã‚‹ã“ã¨ã¯ãªã„ã®ã§æ‰“ã¡åˆ‡ã‚‹"""
                break

        if is_root:
            return (alpha, best_move_list)
        else:
            return (alpha, None)
        """è‡ªåˆ†ãŒå°†æ¥ç²å¾—ã§ãã‚‹ã§ã‚ã‚ã†ã€ã‚‚ã£ã¨ã‚‚è‰¯ã„ã€æœ€ä½é™ã®è©•ä¾¡å€¤"""

class MoveHelper():
    @staticmethod
    def destination(move):
        """ç§»å‹•å…ˆ"""
        return move & 0b00000000_00000000_00000000_01111111

    @staticmethod
    def source(move):
        """ç§»å‹•å…ƒ
        é§’æ‰“ã¡ã®éš›ã«ã¯ã€PieceType + SquareNum - 1"""
        return move & 0b00000000_00000000_00111111_10000000 >> 7

    @staticmethod
    def promoted(move):
        """1 ãªã‚‰æˆã‚Š"""
        return move & 0b00000000_00000000_01000000_00000000 >> 14

    @staticmethod
    def piece_type(move):
        """ç§»å‹•ã™ã‚‹é§’ã®ç¨®é¡ã€‚é§’æ‰“ã¡ã®éš›ã«ã¯ä½¿ç”¨ã—ãªã„"""
        return move & 0b00000000_00001111_00000000_00000000 >> 16

    @staticmethod
    def captured(move):
        """å–ã‚‰ã‚ŒãŸé§’ã®ç¨®é¡"""
        return move & 0b00000000_11110000_00000000_00000000 >> 20

class PieceHelper():
    """é§’ãƒ˜ãƒ«ãƒ‘ãƒ¼"""

    @staticmethod
    def turn_and_piece_type(turn, piece_type):
        return turn * 16 + piece_type

class PieceTypeHelper():
    """é§’ã®ç¨®é¡ãƒ˜ãƒ«ãƒ‘ãƒ¼"""

    @staticmethod
    def without_turn(piece):
        return piece % 16

if __name__ == '__main__':
    """ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰å®Ÿè¡Œæ™‚"""

    kifuwarabe = Kifuwarabe()
    kifuwarabe.usi_loop()
